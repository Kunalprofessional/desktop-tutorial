<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Land Reader â€” Learn More</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&display=swap" rel="stylesheet">
  <style>
  /* Use local wheat-field.jpg as the page background */
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(rgba(247,239,234,0.35), rgba(247,239,234,0.35)), url('wheat-field.jpg') center/cover no-repeat fixed;margin:0;padding:40px;color:#222}
  /* make container slightly translucent so the background shows through */
  .container{max-width:900px;margin:0 auto;background:rgba(255,255,255,0.92);border-radius:18px;padding:32px;box-shadow:0 10px 40px rgba(0,0,0,0.08)}
    a.button{display:inline-block;padding:10px 16px;border-radius:999px;background:#7f4f2b;color:#fff;text-decoration:none;font-weight:700}
    header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
    .logo{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center}
  /* geolocation map styles */
  .geo-row{display:flex;gap:12px;align-items:center;margin-top:18px}
  .geo-btn{background:#d69e50;color:#fff;border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer}
  .geo-btn[disabled]{opacity:0.6;cursor:not-allowed}
  .map-wrap{width:100%;height:420px;border-radius:12px;overflow:hidden;margin-top:14px;display:none;border:1px solid rgba(0,0,0,0.06)}
  .map-iframe{width:100%;height:100%;border:0}
  .geo-status{color:#666;font-size:14px}

  /* two-column layout for main content + results */
  .cols{display:grid;grid-template-columns:1fr 320px;gap:24px;margin-top:8px}
  .aside{background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(252,250,247,0.98));padding:18px;border-radius:12px;border:1px solid rgba(0,0,0,0.03)}
  .stat-list{display:flex;flex-direction:column;gap:12px;margin-top:12px}
  .stat-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;background:rgba(0,0,0,0.02)}
  .stat-icon{width:44px;height:44px;display:flex;align-items:center;justify-content:center}
  .stat-body{flex:1}
  .stat-label{font-size:13px;color:#666}
  .stat-value{font-size:18px;font-weight:800;color:#7f4f2b}
  @media (max-width:880px){.cols{grid-template-columns:1fr;}.aside{order:2}}

  /* crop recommendation styles */
  .crop-list{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px}
  .crop-item{display:flex;flex-direction:column;align-items:center;gap:8px;padding:10px;border-radius:10px;background:rgba(0,0,0,0.02);text-align:center}
  .crop-badge{font-size:24px}
  .crop-name{font-size:12px;color:#333;font-weight:600}

  /* crop suitability score styles */
  .suitability-list{display:flex;flex-direction:column;gap:10px}
  .suitability-item{display:flex;align-items:center;gap:10px}
  .suitability-crop{font-size:13px;font-weight:600;color:#333;min-width:80px}
  .suitability-bar{flex:1;height:8px;background:rgba(0,0,0,0.08);border-radius:4px;overflow:hidden}
  .suitability-fill{height:100%;background:linear-gradient(90deg,#d69e50,#f3c984);border-radius:4px}
  .suitability-score{font-size:12px;font-weight:700;color:#d69e50;min-width:40px;text-align:right}

  /* action buttons styles */
  .action-buttons{display:flex;gap:12px;margin-top:24px;flex-wrap:wrap}
  .btn-action{padding:12px 18px;border-radius:10px;border:none;font-weight:700;cursor:pointer;font-size:14px;transition:all 0.3s ease}
  .btn-primary{background:#7f4f2b;color:#fff}
  .btn-primary:hover{background:#6a4124;box-shadow:0 4px 12px rgba(127,79,43,0.2)}
  .btn-secondary{background:#f0ebe3;color:#7f4f2b;border:2px solid #d69e50}
  .btn-secondary:hover{background:#e8ddd3;box-shadow:0 4px 12px rgba(214,158,80,0.15)}
  </style>
</head>
<body>
  <script>
    // Check if user is logged in
    if (!localStorage.getItem('userLoggedIn')) {
      window.location.href = 'index.html';
    }
  </script>
  <div class="container">
    <header>
      <div class="logo"><img src="../logo.png" alt="Logo" style="width:100%;height:100%;border-radius:10px;"></div>
      <div>
        <div style="font-weight:800;font-size:18px;color:#7f4f2b">LAND READER ANALYSER</div>
        <div style="font-size:13px;color:#666">Learn more about the Land Reader platform</div>
      </div>
    </header>

    <div style="margin-bottom:20px;">
      <a href="index.html" title="Back to Home" style="display:inline-flex;align-items:center;color:#7f4f2b;text-decoration:none;padding:8px;border-radius:8px;transition:background 0.3s;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>

    <h1>Land Reader â€” Overview</h1>
    <p class="muted">Land Reader Analyzer is a suite of tools for analyzing soil, crop health, and yield potential using satellite and on-site sensors. </p>

    <h2>Features</h2>
    <div class="cols">
      <main class="main-col">
        <ul>
          <li>Precision planting recommendations</li>
          <li>Sustainable irrigation schedules</li>
          <li>Yield analytics and forecasts</li>
        </ul>

        <!-- Geolocation + map -->
        <div class="geo-row">
          <button id="use-location" class="geo-btn">Use my location</button>
          <button id="enter-location" class="geo-btn">Enter Location Manually</button>
          <div id="geo-status" class="geo-status"></div>
        </div>
        <div id="map-wrap" class="map-wrap" aria-hidden="true">
          <iframe id="map-frame" class="map-iframe" src="" title="Map of located area"></iframe>
        </div>
        <div id="manual-location" style="display:none;margin-top:12px;">
          <input type="text" id="location-input" placeholder="Enter address or coordinates (e.g., 40.7128,-74.0060)" style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px;">
          <button id="submit-location" class="geo-btn" style="margin-top:8px;">Submit Location</button>
        </div>

        <div style="margin-top:22px;padding:16px;background:rgba(215,174,82,0.08);border-radius:12px;border-left:4px solid #d69e50">
          <h3 style="margin:0 0 12px 0;color:#7f4f2b;font-size:15px">Crop Suitability Score</h3>
          <p style="color:#666;margin:0 0 14px 0;font-size:12px">Based on soil pH, temperature, and rainfall</p>

          <div class="suitability-list">
            <div class="suitability-item">
              <div class="suitability-crop">Wheat</div>
              <div class="suitability-bar">
                <div class="suitability-fill" style="width:92%"></div>
              </div>
              <div class="suitability-score">92%</div>
            </div>

            <div class="suitability-item">
              <div class="suitability-crop">Corn</div>
              <div class="suitability-bar">
                <div class="suitability-fill" style="width:85%"></div>
              </div>
              <div class="suitability-score">85%</div>
            </div>

            <div class="suitability-item">
              <div class="suitability-crop">Potatoes</div>
              <div class="suitability-bar">
                <div class="suitability-fill" style="width:88%"></div>
              </div>
              <div class="suitability-score">88%</div>
            </div>

            <div class="suitability-item">
              <div class="suitability-crop">Carrots</div>
              <div class="suitability-bar">
                <div class="suitability-fill" style="width:80%"></div>
              </div>
              <div class="suitability-score">80%</div>
            </div>

            <div class="suitability-item">
              <div class="suitability-crop">Soybeans</div>
              <div class="suitability-bar">
                <div class="suitability-fill" style="width:84%"></div>
              </div>
              <div class="suitability-score">84%</div>
            </div>

            <div class="suitability-item">
              <div class="suitability-crop">Cucumbers</div>
              <div class="suitability-bar">
                <div class="suitability-fill" style="width:76%"></div>
              </div>
              <div class="suitability-score">76%</div>
            </div>
          </div>
        </div>
      </main>

      <aside class="aside">
        <h3 style="margin-top:6px;color:#7f4f2b">Analyse results</h3>
        <p style="color:#666;margin-top:6px;font-size:13px">Live sensor summary for the selected location</p>

        <div class="stat-list">
          <div class="stat-item">
            <div class="stat-icon" aria-hidden="true">
              <!-- thermometer icon -->
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 14.76V5a2 2 0 10-4 0v9.76A4 4 0 1014 14.76z" fill="#d65e2a" />
              </svg>
            </div>
            <div class="stat-body">
              <div class="stat-label">Temperature</div>
              <div class="stat-value">27Â°C</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-icon" aria-hidden="true">
              <!-- rainfall / droplet icon -->
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2s-6 5.5-6 9.5A6 6 0 0012 20a6 6 0 006-8.5C18 7.5 12 2 12 2z" fill="#4aa3d8" />
              </svg>
            </div>
            <div class="stat-body">
              <div class="stat-label">Rainfall</div>
              <div class="stat-value">12 mm</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-icon" aria-hidden="true">
              <!-- humidity / droplet with percent -->
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 3s-5 4.5-5 8.5A5 5 0 0012 20a5 5 0 005-8.5C17 7.5 12 3 12 3z" fill="#6bbf6b" />
              </svg>
            </div>
            <div class="stat-body">
              <div class="stat-label">Humidity</div>
              <div class="stat-value">68%</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-icon" aria-hidden="true">
              <!-- soil type / layers icon -->
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="4" width="18" height="3" fill="#8b6f47" />
                <rect x="3" y="9" width="18" height="3" fill="#a0826d" />
                <rect x="3" y="14" width="18" height="3" fill="#9d7e55" />
              </svg>
            </div>
            <div class="stat-body">
              <div class="stat-label">Soil Type</div>
              <div class="stat-value">Loam</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-icon" aria-hidden="true">
              <!-- pH scale icon -->
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="9" fill="none" stroke="#d8a24d" stroke-width="1.5" />
                <text x="12" y="15" text-anchor="middle" font-size="10" font-weight="bold" fill="#d8a24d">pH</text>
              </svg>
            </div>
            <div class="stat-body">
              <div class="stat-label">pH Level</div>
              <div class="stat-value">6.8</div>
            </div>
          </div>
        </div>

        <div style="margin-top:18px;padding-top:18px;border-top:1px solid rgba(0,0,0,0.06)">
          <h3 style="margin-top:6px;color:#7f4f2b">Recommended Crops</h3>
          <p style="color:#666;margin-top:6px;font-size:13px">Best suited for current soil & climate conditions</p>

          <div class="crop-list">
            <div class="crop-item">
              <div class="crop-badge">ðŸŒ¾</div>
              <div class="crop-name">Wheat</div>
            </div>
            <div class="crop-item">
              <div class="crop-badge">ðŸ¥•</div>
              <div class="crop-name">Carrots</div>
            </div>
            <div class="crop-item">
              <div class="crop-badge">ðŸ¥’</div>
              <div class="crop-name">Cucumbers</div>
            </div>
            <div class="crop-item">
              <div class="crop-badge">ðŸ¥”</div>
              <div class="crop-name">Potatoes</div>
            </div>
            <div class="crop-item">
              <div class="crop-badge">ðŸŒ½</div>
              <div class="crop-name">Corn</div>
            </div>
            <div class="crop-item">
              <div class="crop-badge">ðŸ«˜</div>
              <div class="crop-name">Soybeans</div>
            </div>
          </div>
        </div>

      </aside>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button id="save-report" class="btn-action btn-primary">ðŸ’¾ Save Report</button>
      <button id="download-pdf" class="btn-action btn-primary">ðŸ“¥ Download PDF</button>
      <button id="analyse-another" class="btn-action btn-secondary">ðŸ”„ Analyse Another</button>
    </div>

    <p style="margin-top:18px"><a class="button" href="index.html">Back</a></p>

    <script>
      const useBtn = document.getElementById('use-location');
      const enterBtn = document.getElementById('enter-location');
      const status = document.getElementById('geo-status');
      const mapWrap = document.getElementById('map-wrap');
      const mapFrame = document.getElementById('map-frame');
      const manualLocation = document.getElementById('manual-location');
      const locationInput = document.getElementById('location-input');
      const submitBtn = document.getElementById('submit-location');
      const saveReportBtn = document.getElementById('save-report');
      const downloadPdfBtn = document.getElementById('download-pdf');
      const analyseAnotherBtn = document.getElementById('analyse-another');

      function setStatus(text){ status.textContent = text }

      function showMap(lat, lng){
        // Use Google Maps embed with query coordinates (no API key required for simple embed)
        const src = `https://www.google.com/maps?q=${lat},${lng}&z=15&output=embed`;
        mapFrame.src = src;
        mapWrap.style.display = 'block';
        mapWrap.setAttribute('aria-hidden','false');
      }

      function onError(err){
        console.error('Geolocation error', err);
        setStatus('Unable to get location â€” ' + (err && err.message ? err.message : 'permission denied'));
        useBtn.disabled = false;
      }

      useBtn.addEventListener('click', ()=>{
        if(!navigator.geolocation){
          setStatus('Geolocation not supported by your browser');
          return;
        }
        useBtn.disabled = true;
        setStatus('Requesting location â€” please allow access...');
        navigator.geolocation.getCurrentPosition(pos=>{
          const lat = pos.coords.latitude.toFixed(6);
          const lng = pos.coords.longitude.toFixed(6);
          setStatus(`Location found: ${lat}, ${lng}`);
          showMap(lat,lng);
          useBtn.disabled = false;
        }, err=>onError(err), { enableHighAccuracy: true, timeout: 15000, maximumAge: 0 });
      });

      // Action button handlers
      saveReportBtn.addEventListener('click', ()=>{
        alert('Report saved to your account (feature coming soon)');
      });

      downloadPdfBtn.addEventListener('click', ()=>{
        alert('PDF report will be generated and downloaded (feature coming soon)');
      });

      enterBtn.addEventListener('click', ()=>{
        manualLocation.style.display = 'block';
        setStatus('Enter your location manually');
      });

      submitBtn.addEventListener('click', ()=>{
        const input = locationInput.value.trim();
        if (!input) {
          setStatus('Please enter a location');
          return;
        }
        // Simple check for coordinates (lat,lng)
        const coordRegex = /^-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?$/;
        if (coordRegex.test(input)) {
          const [lat, lng] = input.split(',').map(s => s.trim());
          setStatus(`Coordinates entered: ${lat}, ${lng}`);
          showMap(lat, lng);
        } else {
          // For address, use Google Maps search
          const src = `https://www.google.com/maps?q=${encodeURIComponent(input)}&z=15&output=embed`;
          mapFrame.src = src;
          mapWrap.style.display = 'block';
          mapWrap.setAttribute('aria-hidden','false');
          setStatus(`Searching for: ${input}`);
        }
      });

      analyseAnotherBtn.addEventListener('click', ()=>{
        // Reset the page and allow user to select a new location
        mapWrap.style.display = 'none';
        manualLocation.style.display = 'none';
        locationInput.value = '';
        status.textContent = 'Click to show a map of your area';
        useBtn.disabled = false;
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    </script>
  </div>
</body>
</html>
